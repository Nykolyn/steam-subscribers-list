(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{124:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),u=n.n(c),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(40),d=n(26),l=n(19),f=n(33),S=n(35),E=n(62),h=n(51),p=function(e){var t=e.component,n=e.isAuth,r=Object(E.a)(e,["component","isAuth"]);return a.a.createElement(d.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(d.a,{to:"/auth/login"})}}))};p.defaultProps={isAuth:null};var b=Object(l.b)(function(e){return{isAuth:Object(h.c)(e)}})(p),v=n(41),_=n(73),m=n(85),U=n.n(m),R=n(143),A=n(2);function C(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0;\n  padding: 0 2rem;\n"]);return C=function(){return e},e}function O(){var e=Object(f.a)([""]);return O=function(){return e},e}var y=S.a.header(O()),g=S.a.ul(C()),D=function(){var e=Object(l.c)();return Object(l.d)(function(e){return e.auth.isAuth})&&a.a.createElement(y,null,a.a.createElement(g,null,a.a.createElement("li",null),a.a.createElement("li",null,a.a.createElement(R.a,{onClick:function(){return e(Object(A.c)()),void localStorage.removeItem("token")}},a.a.createElement(U.a,{style:{color:"#fff"}})))))};function T(){var e=Object(f.a)(["\n  min-height: 100vh;\n  position: relative;\n  z-index: 3;\n"]);return T=function(){return e},e}var w=a.a.lazy(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,396))}),j=S.a.div(T()),k={refreshUser:v.a},B=Object(l.b)(null,k)(function(){return a.a.createElement(j,null,a.a.createElement(D,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",{className:"rainbow-marker-loader"})},a.a.createElement(d.d,null,a.a.createElement(d.b,{path:"/auth",component:w}),_.b.map(function(e){return a.a.createElement(b,{key:e.path,path:e.path,component:e.component,exact:e.exact})}),a.a.createElement(d.a,{to:"/auth"}))))}),x=n(56),Q=n(53),N=n(57),G=n(43),P=function e(t,n){Object(G.a)(this,e),this.x=t,this.y=n,this.lifetime=0},L=function(e){function t(){var e,n;Object(G.a)(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(x.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(c)))).state={cHeight:0,cWidth:0},n.canvas=a.a.createRef(),n.componentDidMount=function(){n.setState({cHeight:2e3,cWidth:document.body.clientWidth}),window.addEventListener("resize",function(){n.setState({cHeight:document.body.clientHeight,cWidth:document.body.clientWidth})},!1),matchMedia("(pointer:fine)").matches&&n.startAnimation()},n.startAnimation=function(){var e=n.canvas.current,t=e.getContext("2d"),r=[];document.addEventListener("mousemove",function(t){var n=t.clientX,a=t.clientY;!function(e,t){var n=new P(e,t);r.push(n)}(n-e.offsetLeft,a-e.offsetTop)},!1);!function e(){t.clearRect(0,0,t.canvas.width,t.canvas.height);for(var n=0;n<r.length;++n){var a=r[n],c=void 0;if(c=void 0!==r[n-1]?r[n-1]:a,a.lifetime+=1,a.lifetime>700/60)r.shift();else{var u=a.lifetime/(700/60),o=7*(1-u);t.lineJoin="round",t.lineWidth=o;var i=Math.floor(190-190*u),s=Math.floor(210+210*u);t.strokeStyle="rgb(".concat(i,",").concat(0,",").concat(s),t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(a.x,a.y),t.stroke(),t.closePath()}}requestAnimationFrame(e)}()},n.render=function(){var e=n.state,t=e.cHeight,r=e.cWidth;return a.a.createElement("canvas",{ref:n.canvas,className:"mouse-trail",width:r,height:t})},n}return Object(N.a)(t,e),t}(a.a.Component),W=n(15),M=(n(122),n(86)),I=n(32),z=function(){return Object(I.a)("token")?{auth:{isAuth:!0}}:{}},F=Object(W.combineReducers)({isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case A.a.ACCESS_GRANTED:return!0;case A.a.LOG_OUT:return!1;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case A.a.ACCESS_GRANTED:return r.user.user;case A.a.LOG_OUT:return{};default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case A.a.ACCESS_GRANTED:return r.user.token;case A.a.LOG_OUT:return"";default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case A.a.ACCESS_REQUEST:return!0;case A.a.ACCESS_GRANTED:case A.a.ACCESS_DENIED:return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case A.a.ACCESS_DENIED:return r.err.message;case A.a.ACCESS_GRANTED:case A.a.CLEAR_ERROR_MSG:case A.a.LOG_OUT:return null;default:return e}}}),H=n(27),J=n(80),Y=n(7),q=n(42),X={getSubs:!1,addSub:!1,updateSub:!1},$={sameDayAdded:0,sameWeekAdded:0,sameMonthAdded:0},K=Object(W.combineReducers)({loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;switch((arguments.length>1?arguments[1]:void 0).type){case Y.a.SUBS_REQUEST_START:return Object(H.a)({},e,{getSubs:!0});case Y.a.SUBS_REQUEST_SUCCESS:case Y.a.SUBS_REQUEST_ERROR:return Object(H.a)({},e,{getSubs:!1});case Y.a.ADD_SUB_REQUEST:return Object(H.a)({},e,{addSub:!0});case Y.a.ADD_SUB_SUCCESS:case Y.a.ADD_SUB_ERROR:return Object(H.a)({},e,{addSub:!1});case Y.a.UPDATE_SUB_REQUEST:return Object(H.a)({},e,{updateSub:!0});case Y.a.UPDATE_SUB_SUCCESS:case Y.a.UPDATE_SUB_ERROR:return Object(H.a)({},e,{updateSub:!1});default:return e}},subs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Y.a.SUBS_REQUEST_SUCCESS:return r.subs;case A.a.LOG_OUT:return[];case Y.a.ADD_SUB_SUCCESS:return[].concat(Object(J.a)(e),[r.sub]);case Y.a.UPDATE_SUB_SUCCESS:var a=r.updatedSub;return e.map(function(e){return e._id===a._id?a:e});default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Y.a.SUBS_REQUEST_SUCCESS:var a=(new Date).toLocaleDateString(),c=0,u=0,o=0;return r.subs.forEach(function(e){var t=e.date.split(" ")[0];Object(q.a)(a,t)&&(c+=1),Object(q.b)(a,t)&&(u+=1),Object(q.c)(a,t)&&(o+=1)}),{sameDayAdded:c,sameWeekAdded:o,sameMonthAdded:u};case Y.a.ADD_SUB_SUCCESS:return{sameDayAdded:e.sameDayAdded+1,sameWeekAdded:e.sameWeekAdded+1,sameMonthAdded:e.sameMonthAdded+1};case A.a.LOG_OUT:return $;default:return e}}}),V=[M.a],Z=W.applyMiddleware.apply(void 0,V),ee=Object(W.combineReducers)({auth:F,subscribtions:K}),te=function(){var e=z(),t=Object(W.createStore)(ee,e,Z);return t.getState().auth.isAuth&&t.dispatch(Object(v.a)()),t}(),ne=function(){return a.a.createElement(l.a,{store:te},a.a.createElement(s.a,{basename:"/"},a.a.createElement("div",{style:{background:"radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%)"}},a.a.createElement(L,null),a.a.createElement(d.b,{component:B}))))};n(124),n(125);u.a.render(a.a.createElement(ne,null),document.getElementById("root")),console.log("production"),function(e){if("serviceWorker"in navigator){if(new URL("/steam-subscribers-list",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/steam-subscribers-list","/service-worker.js");o?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):i(t,e)})}}()},2:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return f}),n.d(t,"j",function(){return S}),n.d(t,"b",function(){return E});var r={ACCESS_REQUEST:"auth/ACCESS_REQUEST",ACCESS_GRANTED:"auth/ACCESS_GRANTED",ACCESS_DENIED:"auth/ACCESS_DENIED",CLEAR_ERROR_MSG:"auth/CREAR_ERROR_MSG",LOG_OUT:"auth/LOG_OUT"},a=function(){return{type:r.LOG_OUT}},c=function(){return{type:r.ACCESS_REQUEST}},u=function(e){return{type:r.ACCESS_GRANTED,payload:{user:e}}},o=function(e){return{type:r.ACCESS_DENIED,payload:{err:e}}},i=function(){return{type:r.ACCESS_REQUEST}},s=function(e){return{type:r.ACCESS_GRANTED,payload:{user:e}}},d=function(e){return{type:r.ACCESS_DENIED,payload:{err:e}}},l=function(){return{type:r.ACCESS_REQUEST}},f=function(e){return{type:r.ACCESS_GRANTED,payload:{user:e}}},S=function(e){return{type:r.ACCESS_DENIED,payload:{err:e}}},E=function(){return{type:r.CLEAR_ERROR_MSG}}},32:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(e,t){var n=JSON.stringify(t);return localStorage.setItem(e,n)},a=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}}},41:function(e,t,n){"use strict";var r=n(9),a=n.n(r),c=n(24),u=n(83),o=n.n(u),i=n(2),s=n(31),d=n.n(s),l="https://steam-subscribtions.herokuapp.com",f=function(){var e=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat(l,"/auth/login"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat(l,"/auth/register"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(l,"/user/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=n(72),p=n(32);n.d(t,"b",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return _});var b=function(e){return function(){var t=Object(c.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(i.e)()),t.prev=1,t.next=4,f(e);case 4:r=t.sent,e.rememberMe&&Object(p.b)("token",r.token),n(Object(i.f)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Object(i.d)(t.t0.response.data));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(i.k)()),t.prev=1,t.next=4,S(e);case 4:r=t.sent,e.rememberMe&&Object(p.b)("token",r.token),n(Object(i.l)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Object(i.j)(t.t0.response.data));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(p.a)("token")){e.next=3;break}return e.abrupt("return");case 3:return Object(h.a)(n),t(Object(i.h)()),e.prev=5,r=o()(n),e.next=9,E(r.id);case 9:c=e.sent,t(Object(i.i)(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(Object(i.g)(e.t0));case 16:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()}},42:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return i});var r=n(6),a=n.n(r);a.a.defaultFormat="DD.MM.YYYY HH:mm",a.a.updateLocale("en",{week:{dow:1}});var c=function(e,t){var n=a()(e,a.a.defaultFormat),r=a()(t,a.a.defaultFormat);return n.isSame(r,"day")},u=function(e,t){var n=a()(e,a.a.defaultFormat),r=a()(t,a.a.defaultFormat);return n.isSame(r,"week")},o=function(e,t){return function(e,t){return e.split(".").slice(1).join(" ")===t.split(".").slice(1).join(" ")}(e,t)},i=function(e){return a()(e,a.a.defaultFormat).fromNow()}},51:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return o});var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.user._id},c=function(e){return e.auth.token},u=function(e){return e.auth.loading},o=function(e){return e.auth.error}},7:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return f});var r={SUBS_REQUEST_START:"SUBS_REQUEST_START",SUBS_REQUEST_SUCCESS:"SUBS_REQUEST_SUCCESS",SUBS_REQUEST_ERROR:"SUBS_REQUEST_ERROR",ADD_SUB_REQUEST:"ADD_SUB_REQUEST",ADD_SUB_SUCCESS:"ADD_SUB_SUCCESS",ADD_SUB_ERROR:"ADD_SUB_ERROR",UPDATE_SUB_REQUEST:"UPDATE_SUB_REQUEST",UPDATE_SUB_SUCCESS:"UPDATE_SUB_SUCCESS",UPDATE_SUB_ERROR:"UPDATE_SUB_ERROR"},a=function(){return{type:r.SUBS_REQUEST_START}},c=function(e){return{type:r.SUBS_REQUEST_SUCCESS,payload:{subs:e}}},u=function(e){return{type:r.SUBS_REQUEST_ERROR,payload:{error:e}}},o=function(){return{type:r.ADD_SUB_REQUEST}},i=function(e){return{type:r.ADD_SUB_SUCCESS,payload:{sub:e}}},s=function(e){return{type:r.ADD_SUB_ERROR,payload:{error:e}}},d=function(){return{type:r.UPDATE_SUB_REQUEST}},l=function(e){return{type:r.UPDATE_SUB_SUCCESS,payload:{updatedSub:e}}},f=function(e){return{type:r.UPDATE_SUB_ERROR,payload:{error:e}}}},72:function(e,t,n){"use strict";var r=n(31),a=n.n(r);t.a=function(e){a.a.defaults.headers.common.Authorization="Bearer ".concat(e)}},73:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(0),a=n.n(r),c=a.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,133))}),u=a.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8)]).then(n.bind(null,134))}),o=a.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(10)]).then(n.bind(null,135))}),i=[{path:"/auth/login",component:c,exact:!0},{path:"/auth/register",component:u,exact:!0}],s=[{path:"/subscribtions",component:o,exact:!0}]},91:function(e,t,n){e.exports=n(126)}},[[91,4,6]]]);
//# sourceMappingURL=main.e21bdf7f.chunk.js.map