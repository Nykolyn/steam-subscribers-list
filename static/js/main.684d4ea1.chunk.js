(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{10:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"i",function(){return S}),n.d(e,"j",function(){return E}),n.d(e,"h",function(){return f});var r={SUBS_REQUEST_START:"SUBS_REQUEST_START",SUBS_REQUEST_SUCCESS:"SUBS_REQUEST_SUCCESS",SUBS_REQUEST_ERROR:"SUBS_REQUEST_ERROR",ADD_SUB_REQUEST:"ADD_SUB_REQUEST",ADD_SUB_SUCCESS:"ADD_SUB_SUCCESS",ADD_SUB_ERROR:"ADD_SUB_ERROR",UPDATE_FAV_SUB_REQUEST:"UPDATE_FAV_SUB_REQUEST",UPDATE_FAV_SUB_SUCCESS:"UPDATE_FAV_SUB_SUCCESS",UPDATE_FAV_SUB_ERROR:"UPDATE_FAV_SUB_ERROR"},a=function(){return{type:r.SUBS_REQUEST_START}},u=function(t){return{type:r.SUBS_REQUEST_SUCCESS,payload:{subs:t}}},c=function(t){return{type:r.SUBS_REQUEST_ERROR,payload:{error:t}}},o=function(){return{type:r.ADD_SUB_REQUEST}},i=function(t){return{type:r.ADD_SUB_SUCCESS,payload:{sub:t}}},s=function(t){return{type:r.ADD_SUB_ERROR,payload:{error:t}}},S=function(){return{type:r.UPDATE_FAV_SUB_REQUEST}},E=function(t){return{type:r.UPDATE_FAV_SUB_SUCCESS,payload:{updatedSub:t}}},f=function(t){return{type:r.UPDATE_FAV_SUB_ERROR,payload:{error:t}}}},101:function(t,e,n){},102:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),u=n(28),c=n.n(u),o=n(30),i=n(18),s=n(23),S=n(115),E=n(45),f=n(41),d=n(44),l=n(33),p=function t(e,n){Object(l.a)(this,t),this.x=e,this.y=n,this.lifetime=0},_=function(t){function e(){var t,n;Object(l.a)(this,e);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return(n=Object(E.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(u)))).state={cHeight:0,cWidth:0},n.canvas=a.a.createRef(),n.componentDidMount=function(){n.setState({cHeight:2e3,cWidth:document.body.clientWidth}),window.addEventListener("resize",function(){n.setState({cHeight:document.body.clientHeight,cWidth:document.body.clientWidth})},!1),matchMedia("(pointer:fine)").matches&&n.startAnimation()},n.startAnimation=function(){var t=n.canvas.current,e=t.getContext("2d"),r=[];document.addEventListener("mousemove",function(e){var n=e.clientX,a=e.clientY;!function(t,e){var n=new p(t,e);r.push(n)}(n-t.offsetLeft,a-t.offsetTop)},!1);!function t(){e.clearRect(0,0,e.canvas.width,e.canvas.height);for(var n=0;n<r.length;++n){var a=r[n],u=void 0;if(u=void 0!==r[n-1]?r[n-1]:a,a.lifetime+=1,a.lifetime>700/60)r.shift();else{var c=a.lifetime/(700/60),o=7*(1-c);e.lineJoin="round",e.lineWidth=o;var i=Math.floor(190-190*c),s=Math.floor(210+210*c);e.strokeStyle="rgb(".concat(i,",").concat(0,",").concat(s),e.beginPath(),e.moveTo(u.x,u.y),e.lineTo(a.x,a.y),e.stroke(),e.closePath()}}requestAnimationFrame(t)}()},n.render=function(){var t=n.state,e=t.cHeight,r=t.cWidth;return a.a.createElement("canvas",{ref:n.canvas,className:"mouse-trail",width:r,height:e})},n}return Object(d.a)(e,t),e}(a.a.Component),h=n(64),b=n(25),R=function(t){var e=t.component,n=t.isAuth,r=Object(h.a)(t,["component","isAuth"]);return a.a.createElement(i.b,Object.assign({},r,{render:function(t){return n?a.a.createElement(e,t):a.a.createElement(i.a,{to:"/signin"})}}))};R.defaultProps={isAuth:null};var U=Object(s.b)(function(t){return{isAuth:Object(b.c)(t)}})(R),A=n(48),v=n(59),C=a.a.lazy(function(){return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,236))}),m={refreshUser:A.a},y=Object(s.b)(function(t){return{isAuth:Object(b.c)(t),loading:Object(b.b)(t)}},m)(function(t){var e=t.refreshUser;Object(r.useEffect)(function(){e()},[]);return a.a.createElement("div",{className:"stars-back"},a.a.createElement("div",{id:"stars"}),a.a.createElement("div",{id:"stars2"}),a.a.createElement("div",{id:"stars3"}),a.a.createElement(_,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement(S.a,{className:"material-subs-loader",color:"secondary"})},a.a.createElement(i.d,null,v.b.map(function(t){return a.a.createElement(U,{key:t.path,path:t.path,component:t.component,exact:t.exact})}),a.a.createElement(i.b,{path:"/auth",component:C}),a.a.createElement(i.a,{to:"/auth"}))))}),D=n(13),T=(n(100),n(67)),O=n(2),g=Object(D.combineReducers)({isAuth:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case O.a.ACCESS_GRANTED:return!0;default:return t}},user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case O.a.ACCESS_GRANTED:return r.user.user;default:return t}},token:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case O.a.ACCESS_GRANTED:return r.user.token;default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case O.a.ACCESS_REQUEST:return!0;case O.a.ACCESS_GRANTED:case O.a.ACCESS_DENIED:return!1;default:return t}},error:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case O.a.ACCESS_DENIED:return r.err.message;case O.a.ACCESS_GRANTED:case O.a.CLEAR_ERROR_MSG:return null;default:return t}}}),j=n(21),B=n(61),w=n(10),k={getSubs:!1,addSub:!1,updateFavSub:!1},Q=Object(D.combineReducers)({subs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case w.a.SUBS_REQUEST_SUCCESS:return r.subs;case w.a.ADD_SUB_SUCCESS:return[].concat(Object(B.a)(t),[r.sub]);case w.a.UPDATE_FAV_SUB_SUCCESS:var a=r.updatedSub;return t.map(function(t){return t.userID===a.userID?a:t});default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;switch((arguments.length>1?arguments[1]:void 0).type){case w.a.SUBS_REQUEST_START:return Object(j.a)({},t,{getSubs:!0});case w.a.SUBS_REQUEST_SUCCESS:case w.a.SUBS_REQUEST_ERROR:return Object(j.a)({},t,{getSubs:!1});case w.a.ADD_SUB_REQUEST:return Object(j.a)({},t,{addSub:!0});case w.a.ADD_SUB_SUCCESS:case w.a.ADD_SUB_ERROR:return Object(j.a)({},t,{addSub:!1});case w.a.UPDATE_FAV_SUB_REQUEST:return Object(j.a)({},t,{updateFavSub:!0});case w.a.UPDATE_FAV_SUB_SUCCESS:case w.a.UPDATE_FAV_SUB_ERROR:return Object(j.a)({},t,{updateFavSub:!1});default:return t}}}),x=Object(D.combineReducers)({auth:g,subscribtions:Q}),N=[T.a],P=D.applyMiddleware.apply(void 0,N),F=Object(D.createStore)(x,P),G=function(){return a.a.createElement(s.a,{store:F},a.a.createElement(o.a,{basename:"/"},a.a.createElement(i.b,{component:y})))};n(101);c.a.render(a.a.createElement(G,null),document.getElementById("root")),console.log("production")},2:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"j",function(){return S}),n.d(e,"k",function(){return E}),n.d(e,"i",function(){return f}),n.d(e,"b",function(){return d});var r={ACCESS_REQUEST:"ACCESS_REQUEST",ACCESS_GRANTED:"ACCESS_GRANTED",ACCESS_DENIED:"ACCESS_DENIED",CLEAR_ERROR_MSG:"CREAR_ERROR_MSG"},a=function(){return{type:r.ACCESS_REQUEST}},u=function(t){return{type:r.ACCESS_GRANTED,payload:{user:t}}},c=function(t){return{type:r.ACCESS_DENIED,payload:{err:t}}},o=function(){return{type:r.ACCESS_REQUEST}},i=function(t){return{type:r.ACCESS_GRANTED,payload:{user:t}}},s=function(t){return{type:r.ACCESS_DENIED,payload:{err:t}}},S=function(){return{type:r.ACCESS_REQUEST}},E=function(t){return{type:r.ACCESS_GRANTED,payload:{user:t}}},f=function(t){return{type:r.ACCESS_DENIED,payload:{err:t}}},d=function(){return{type:r.CLEAR_ERROR_MSG}}},25:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return o});var r=function(t){return t.auth.isAuth},a=function(t){return t.auth.user._id},u=function(t){return t.auth.token},c=function(t){return t.auth.loading},o=function(t){return t.auth.error}},48:function(t,e,n){"use strict";var r=n(6),a=n.n(r),u=n(17),c=n(66),o=n.n(c),i=n(2),s=n(24),S=n.n(s),E="https://steam-subscribtions.herokuapp.com",f=function(){var t=Object(u.a)(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("".concat(E,"/auth/login"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(u.a)(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("".concat(E,"/auth/register"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(u.a)(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat(E,"/user/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),p=n(58),_=function(t,e){var n=JSON.stringify(e);return localStorage.setItem(t,n)};n.d(e,"b",function(){return h}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return R});var h=function(t){return function(){var e=Object(u.a)(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.d)()),e.prev=1,e.next=4,f(t);case 4:r=e.sent,t.rememberMe&&_("token",r.token),n(Object(i.e)(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.c)(e.t0.response.data));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(u.a)(a.a.mark(function e(n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.j)()),e.prev=1,e.next=4,d(t);case 4:r=e.sent,t.rememberMe&&_("token",r.token),n(Object(i.k)(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.i)(e.t0.response.data));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var t=Object(u.a)(a.a.mark(function t(e){var n,r,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a="token",n=JSON.parse(localStorage.getItem(a))){t.next=3;break}return t.abrupt("return");case 3:return Object(p.a)(n),e(Object(i.g)()),t.prev=5,r=o()(n),t.next=9,l(r.id);case 9:u=t.sent,e(Object(i.h)(u)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(Object(i.f)(t.t0));case 16:case"end":return t.stop()}var a},t,null,[[5,13]])}));return function(e){return t.apply(this,arguments)}}()}},58:function(t,e,n){"use strict";var r=n(24),a=n.n(r);e.a=function(t){a.a.defaults.headers.common.Authorization="Bearer ".concat(t)}},59:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n(0),a=n.n(r),u=a.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8)]).then(n.bind(null,106))}),c=a.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,107))}),o=a.a.lazy(function(){return Promise.all([n.e(0),n.e(6),n.e(10)]).then(n.bind(null,108))}),i=[{path:"/auth/login",component:u,exact:!0},{path:"/auth/register",component:c,exact:!0}],s=[{path:"/subscribtions",component:o}]},69:function(t,e,n){t.exports=n(102)}},[[69,4,5]]]);
//# sourceMappingURL=main.684d4ea1.chunk.js.map