(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),i=a(29),c=a(32),u=a(27),l=a(31),h=a(25),m=function e(t,a){Object(h.a)(this,e),this.x=t,this.y=a,this.lifetime=0},d=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={cHeight:0,cWidth:0},a.canvas=r.a.createRef(),a.componentDidMount=function(){a.setState({cHeight:2e3,cWidth:document.body.clientWidth}),window.addEventListener("resize",function(){a.setState({cHeight:document.body.clientHeight,cWidth:document.body.clientWidth})},!1),matchMedia("(pointer:fine)").matches&&a.startAnimation()},a.startAnimation=function(){var e=a.canvas.current,t=e.getContext("2d"),n=[];document.addEventListener("mousemove",function(t){var a=t.clientX,r=t.clientY;!function(e,t){var a=new m(e,t);n.push(a)}(a-e.offsetLeft,r-e.offsetTop)},!1);!function e(){t.clearRect(0,0,t.canvas.width,t.canvas.height);for(var a=0;a<n.length;++a){var r=n[a],s=void 0;if(s=void 0!==n[a-1]?n[a-1]:r,r.lifetime+=1,r.lifetime>700/60)n.shift();else{var o=r.lifetime/(700/60),i=7*(1-o);t.lineJoin="round",t.lineWidth=i;var c=Math.floor(190-190*o),u=Math.floor(210+210*o);t.strokeStyle="rgb(".concat(c,",").concat(0,",").concat(u),t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(r.x,r.y),t.stroke(),t.closePath()}}requestAnimationFrame(e)}()},a.render=function(){var e=a.state,t=e.cHeight,n=e.cWidth;return r.a.createElement("canvas",{ref:a.canvas,className:"mouse-trail",width:n,height:t})},a}return Object(l.a)(t,e),t}(r.a.Component),f=a(74),p=a(154),b=a(145),v=a(146),g=a(147),E=a(150),w=a(148),C=a(151);function y(e){var t=e.submitPassword,a=Object(n.useState)(""),s=Object(f.a)(a,2),o=s[0],i=s[1];return r.a.createElement(p.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(b.a,{id:"form-dialog-title"},"Sign in"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()&&t(o)}},r.a.createElement(v.a,null,r.a.createElement(g.a,null,"To proceed please enter a valid password"),r.a.createElement(E.a,{autoFocus:!0,value:o,margin:"dense",label:"Password",type:"pasword",onChange:function(e){var t=e.target.value;return i(t)},fullWidth:!0})),r.a.createElement(w.a,null,r.a.createElement(C.a,{type:"submit",color:"primary"},"Jump"))))}var S=a(50),O=a.n(S),F=a(70),j=a(75),k=a(71),A=a(21),x=a(18),N=(a(56),a(149)),D=a(44),T=a(46),_=a.n(T),I="https://steam-subscribtions.herokuapp.com/subscribers",P=function(){return _.a.get(I).then(function(e){return e.data.subs})},L=function(e){return _.a.post(I,e).then(function(e){return e.data.addedSub})},H=function(e,t){return _.a.patch("".concat(I,"/updateSub/").concat(e),t).then(function(e){return e.data.updatedSub})},W=function(e){var t=e.text,a=e.onClick,n=e.type;return r.a.createElement("button",{type:n,className:"jelly-button",onClick:a},r.a.createElement("p",{className:"super-slide"},t))};W.defaultProps={onClick:null};var q=W,M=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",userID:""},a.success=function(e){return x.b.success("\ud83e\udd1f Sub added! Total ammout:  ".concat(e),{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},a.warn=function(){return x.b.warn("\ud83d\ude24\ud83d\ude24\ud83d\ude24 Fill the field!!!",{position:"top-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},a.error=function(){return x.b.error("\ud83e\udd2a Sub already exists",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;return a.setState(Object(D.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.userID;P().then(function(e){return""===n?a.warn():e.find(function(e){return e.name.toLowerCase().trim()===n.toLocaleLowerCase().trim()||e.userID===r})?a.error():(a.success(e.length+1),a.props.handleSubmit(a.state),a.setState({name:"",userID:""}))})},a}return Object(l.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.userID,n=this.props,s=n.handleFilterSubs,o=n.query,i=n.showFavorites,c=n.onChangeText;return r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"sub-form"},r.a.createElement("input",{type:"text",autoComplete:"off",value:t,name:"name",onChange:this.handleInputChange,className:"sub-form__input",placeholder:"Add sub here"}),r.a.createElement("input",{type:"text",autoComplete:"off",value:a,name:"userID",onChange:this.handleInputChange,className:"sub-form__input",placeholder:"User id (optional)"}),r.a.createElement(q,{text:"Add new sub",type:"submit"}),r.a.createElement("input",{type:"text",autoComplete:"off",value:o,placeholder:"filter sub here",name:"query",onChange:s,className:"sub-form__input"}),r.a.createElement(q,{text:c,type:"button",onClick:function(){return i()}}),r.a.createElement(x.a,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(n.Component),R=function(e){var t=e._id,a=e.name,n=e.date,s=e.favorite,o=e.handleFavChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("p",{className:"item-date"},"Added at: ",n)),r.a.createElement("button",{className:"image-wrapper",type:"button",onClick:function(){return o(t,s)}},r.a.createElement("img",{className:"item-image",src:s?"https://image.flaticon.com/icons/svg/148/148838.svg":"https://image.flaticon.com/icons/svg/149/149219.svg",alt:"fav"})))};R.defaultProps={favorite:!1};var B=R,J=function(e){var t=e.subscribers,a=e.handleFavChange;return r.a.createElement("ul",{className:"subs-list container"},t.map(function(e){return r.a.createElement("li",{key:e._id,className:"subs-list__item"},r.a.createElement(B,Object.assign({},e,{handleFavChange:a})))}))},G=function(e){return e.isAuth},U=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={subs:[],query:"",showFavorites:!1,onChangeText:"Show favourites",loadingSubs:!1},a.handleSubmit=function(e){if(a.props.isAuth){var t=Object(k.a)({favorite:!1,date:"".concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString())},e);L(t).then(function(e){return a.setState(function(t){return{subs:[].concat(Object(j.a)(t.subs),[e])}})})}},a.handleFilterSubs=function(e){return a.setState({query:e.target.value})},a.filterFavorites=function(){return a.state.subs.filter(function(e){return e.favorite})},a.showFavorites=function(){return a.setState(function(e){return{showFavorites:!e.showFavorites,onChangeText:e.showFavorites?"Show favourites":"Show all"}})},a.handleFavoriteChange=function(e,t){H(e,{favorite:!t}).then(function(n){a.setState(function(t){return{subs:t.subs.map(function(t){return t._id===e?n:t})}},function(){!1===t&&x.b.success("Added to favorites"),!0===t&&x.b.success("Removed from favorites")})})},a}return Object(l.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isAuth&&P().then(function(t){return e.setState({subs:t})})}},{key:"componentDidUpdate",value:function(){var e=Object(F.a)(O.a.mark(function e(t){var a,n=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.isAuth,t.isAuth===a||!a){e.next=5;break}return e.next=4,this.setState({loadingSubs:!0});case 4:P().then(function(e){n.setState({subs:e,loadingSubs:!1})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.subs,a=e.query,n=e.showFavorites,s=e.onChangeText,o=e.loadingSubs,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.userID===t})}(t,a);return r.a.createElement("div",{className:"stars-back"},r.a.createElement("div",{id:"stars"}),r.a.createElement("div",{id:"stars2"}),r.a.createElement("div",{id:"stars3"}),r.a.createElement(M,{handleSubmit:this.handleSubmit,query:a,handleFilterSubs:this.handleFilterSubs,showFavorites:this.showFavorites,onChangeText:s}),o?r.a.createElement(N.a,{className:"material-loader",color:"secondary"}):n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"subs-length-wrap"},r.a.createElement("p",{className:"subs-length-text"},"Total length: ",this.filterFavorites().length)),r.a.createElement(J,{subscribers:this.filterFavorites(),handleFavChange:this.handleFavoriteChange})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"subs-length-wrap"},r.a.createElement("p",{className:"subs-length-text"},"Total length: ",i.length)),r.a.createElement(J,{subscribers:i.reverse().slice(0,20),handleFavChange:this.handleFavoriteChange})),r.a.createElement(x.a,null))}}]),t}(n.Component),z=Object(i.b)(function(e){return{isAuth:G(e)}})(U),V="ACCESS_GRANTED",X={login:function(){return{type:"ACCESS_GRANTED"}}},Y=Object(i.b)(function(e){return{isAuth:G(e)}},X)(function(e){var t=e.isAuth,a=e.login;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(z,null),!t&&r.a.createElement(y,{submitPassword:function(e){"elkipalkitalki1"===e&&a()}}))}),K=a(24),Q=(a(115),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case V:return!0;default:return e}}),Z=Object(K.combineReducers)({isAuth:Q}),$=(K.applyMiddleware.apply(void 0,[]),Object(K.createStore)(Z));a(116);o.a.render(r.a.createElement(i.a,{store:$},r.a.createElement(Y,null)),document.getElementById("root")),console.log("production")},85:function(e,t,a){e.exports=a(117)}},[[85,1,2]]]);
//# sourceMappingURL=main.a688bf2d.chunk.js.map